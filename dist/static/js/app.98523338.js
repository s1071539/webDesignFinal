(function(t){function e(e){for(var r,n,s=e[0],l=e[1],c=e[2],p=0,d=[];p<s.length;p++)n=s[p],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&d.push(a[n][0]),a[n]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(e);while(d.length)d.shift()();return i.push.apply(i,c||[]),o()}function o(){for(var t,e=0;e<i.length;e++){for(var o=i[e],r=!0,s=1;s<o.length;s++){var l=o[s];0!==a[l]&&(r=!1)}r&&(i.splice(e--,1),t=n(n.s=o[0]))}return t}var r={},a={app:0},i=[];function n(e){if(r[e])return r[e].exports;var o=r[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=r,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;i.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"034f":function(t,e,o){"use strict";var r=o("64a9"),a=o.n(r);a.a},"1d54":function(t,e,o){t.exports=o.p+"static/img/coin.f784f05a.png"},"56d7":function(t,e,o){"use strict";o.r(e);o("cadf"),o("551c"),o("f751"),o("097d");var r=o("2b0e"),a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},i=[],n={name:"App"},s=n,l=(o("034f"),o("2877")),c=Object(l["a"])(s,a,i,!1,null,null,null),u=c.exports,p=o("8c4f"),d=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticStyle:{"margin-top":"-50px"}},[r("img",{attrs:{src:o("cf05")}}),r("el-card",{staticStyle:{margin:"100px auto",width:"500px"}},[r("div",{staticStyle:{margin:"0 auto",width:"400px","font-size":"20px"}},[r("br"),r("br"),r("div",{staticClass:"title"},[t._v("Log in to your account")]),r("br"),r("br"),r("div",{staticClass:"caption"},[t._v("Account")]),r("el-input",{staticClass:"input",attrs:{placeholder:"請輸入帳號(使用者名稱)"},model:{value:t.user[0],callback:function(e){t.$set(t.user,0,e)},expression:"user[0]"}}),r("br"),r("br"),r("div",{staticClass:"caption"},[t._v("Password")]),r("el-input",{staticClass:"input",attrs:{placeholder:"請輸入密碼","show-password":""},model:{value:t.user[1],callback:function(e){t.$set(t.user,1,e)},expression:"user[1]"}}),r("br"),r("br"),r("br"),r("el-button",{staticClass:"button",attrs:{plain:""},on:{click:t.login}},[t._v("Log in")]),r("br"),r("br"),r("button",{staticClass:"src",on:{click:t.signup}},[t._v(" Sign Up ")]),r("br"),r("br")],1)])],1)},m=[],f=(o("7f7f"),o("a481"),{name:"login",data:function(){return{user:["",""]}},created:function(){this.$router.replace({query:""}).catch((function(){}))},mounted:function(){var t=this;document.onkeydown=function(e){if("login"==t.$route.name){var o=window.event.keyCode;13==o&&t.login()}}},methods:{login:function(){var t=this;this.axios.get("/login",{params:{user:JSON.stringify(this.user),mode:"login"}}).then((function(e){var o=e.data;"登入成功!"==o.msg?(t.$message({message:o.msg,type:"success"}),sessionStorage.setItem("user",JSON.stringify(t.user[0])),sessionStorage.setItem("token","ImLogin"),t.$router.push({name:"Show_All"})):t.$message({message:o.msg,type:"error"})}))},signup:function(){this.$router.push({name:"signup"})},resetPassword:function(){this.$router.push({name:"resetPassword"})}}}),h=f,_=(o("9ce0"),Object(l["a"])(h,d,m,!1,null,null,null)),y=(_.exports,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticStyle:{"margin-top":"-50px"}},[r("img",{attrs:{src:o("cf05")}}),r("el-card",{staticStyle:{margin:"100px auto",width:"500px",position:"relative"}},[r("div",{staticStyle:{position:"absolute",right:"0",top:"0"}},[r("el-button",{attrs:{icon:"el-icon-close",circle:""},on:{click:t.exit}})],1),r("div",{staticStyle:{margin:"0 auto",width:"400px","font-size":"20px"}},[r("br"),r("br"),r("div",{staticClass:"title"},[t._v("Log in to your account")]),r("br"),r("br"),r("div",{staticClass:"caption"},[t._v("Account"),r("span",{staticStyle:{color:"red"}},[t._v("*")])]),r("el-input",{staticClass:"input",attrs:{placeholder:"請輸入帳號(使用者名稱)"},model:{value:t.form.user,callback:function(e){t.$set(t.form,"user",e)},expression:"form.user"}}),r("br"),r("br"),r("div",{staticClass:"caption"},[t._v("Password"),r("span",{staticStyle:{color:"red"}},[t._v("*")])]),r("el-input",{staticClass:"input",attrs:{placeholder:"請輸入密碼","show-password":""},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),r("br"),r("br"),r("div",{staticClass:"caption"},[t._v("Email"),r("span",{staticStyle:{color:"red"}},[t._v("*")])]),r("el-input",{staticClass:"input",attrs:{placeholder:"請輸入信箱"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),r("br"),r("br"),r("br"),r("el-button",{staticClass:"button",attrs:{plain:""},on:{click:t.signup}},[t._v("註冊")]),r("br"),r("br")],1)])],1)}),g=[];o("ac6a"),o("ac4d"),o("8a81"),o("5df3"),o("1c4c"),o("6b54"),o("28a5");function b(t,e){var o;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=v(t))||e&&t&&"number"===typeof t.length){o&&(t=o);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,n=!0,s=!1;return{s:function(){o=t[Symbol.iterator]()},n:function(){var t=o.next();return n=t.done,t},e:function(t){s=!0,i=t},f:function(){try{n||null==o.return||o.return()}finally{if(s)throw i}}}}function v(t,e){if(t){if("string"===typeof t)return w(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?w(t,e):void 0}}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,r=new Array(e);o<e;o++)r[o]=t[o];return r}var x={name:"signup",data:function(){return{user_data:[],form:{id:0,user:"",password:"",mypassword:"",email:"",groups:"",region:"",myregion:"",record:"",description:"",admin_mail:""}}},created:function(){var t=this;this.axios.get("/get_all_user",{}).then((function(e){t.user_data=e.data}))},mounted:function(){var t=this;document.onkeydown=function(e){if("signup"==t.$route.name){var o=window.event.keyCode;13==o&&t.signup()}}},methods:{signup:function(){var t=this;if(""!=this.form.user)if(""!=this.form.password)if(""!=this.form.email)if(void 0!=this.form.email.split("@")[1]){var e,o=b(this.user_data);try{for(o.s();!(e=o.n()).done;){var r=e.value;if(this.form.user==r["user"])return void this.$message({message:"使用者 "+this.form.user+" 已存在!",type:"error"})}}catch(a){o.e(a)}finally{o.f()}this.axios.get("/operator_user",{params:{operator:"add",form:JSON.stringify(this.form)}}).then((function(e){t.$message({message:"帳號建立成功",type:"success"}),t.$router.push({name:"login"})}))}else this.$message({message:"請填入正確email格式",type:"error"});else this.$message({message:"請填入使用者信箱",type:"error"});else this.$message({message:"請填入使用者密碼",type:"error"});else this.$message({message:"請填入使用者名稱",type:"error"})},exit:function(){this.$router.push({name:"login"})}}},k=x,S=(o("7662"),Object(l["a"])(k,y,g,!1,null,null,null)),$=S.exports,z=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticStyle:{"margin-top":"-50px"}},[r("img",{attrs:{src:o("cf05")}}),r("el-card",{staticStyle:{margin:"100px auto",width:"500px",position:"relative"}},[r("div",{staticStyle:{position:"absolute",right:"0",top:"0"}},[r("el-button",{attrs:{icon:"el-icon-close",circle:""},on:{click:t.exit}})],1),r("div",{staticStyle:{margin:"0 auto",width:"400px","font-size":"20px"}},[r("br"),r("br"),r("div",{staticClass:"title"},[t._v("Find your account")]),r("br"),r("br"),r("div",{staticClass:"caption"},[t._v("Account"),r("span",{staticStyle:{color:"red"}},[t._v("*")])]),r("el-input",{staticClass:"input",attrs:{placeholder:"請輸入帳號(使用者名稱)"},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}}),r("br"),r("br"),r("div",{staticClass:"caption"},[t._v("Email"),r("span",{staticStyle:{color:"red"}},[t._v("*")])]),r("el-input",{staticClass:"input",attrs:{placeholder:"請輸入信箱"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),r("br"),r("br"),r("br"),r("el-button",{staticClass:"button",attrs:{plain:""},on:{click:t.reset_password}},[t._v("找尋")]),r("br"),r("br")],1)])],1)},A=[];function C(t,e){var o;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=P(t))||e&&t&&"number"===typeof t.length){o&&(t=o);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,n=!0,s=!1;return{s:function(){o=t[Symbol.iterator]()},n:function(){var t=o.next();return n=t.done,t},e:function(t){s=!0,i=t},f:function(){try{n||null==o.return||o.return()}finally{if(s)throw i}}}}function P(t,e){if(t){if("string"===typeof t)return M(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?M(t,e):void 0}}function M(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,r=new Array(e);o<e;o++)r[o]=t[o];return r}var O={name:"resetPassword",data:function(){return{user_data:{},user:"",email:"",password:""}},created:function(){var t=this;this.axios.post("/get_all_user",{}).then((function(e){e.data.forEach((function(e){t.user_data[e["user"]]=e["email"]}))}))},mounted:function(){var t=this;document.onkeydown=function(e){if("resetPassword"==t.$route.name){var o=window.event.keyCode;13==o&&t.reset_password()}}},methods:{reset_password:function(){var t=this;if(""!=this.user)if(""!=this.email)if(void 0!=this.email.split("@")[1]){var e,o=C(this.user_data);try{for(o.s();!(e=o.n()).done;){e.value;if(void 0==this.user_data[this.user])return void this.$alert("使用者不存在");if(this.user_data[this.user]!=this.email)return void this.$alert("信箱錯誤");this.$prompt("請輸入新密碼","新密碼",{confirmButtonText:"確定",cancelButtonText:"取消",inputPattern:/[\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*/,inputErrorMessage:"只接受英文和數字"}).then((function(e){e.value;t.$message({type:"success",message:"已重設密碼，請使用新密碼登入"})})).catch((function(){t.$message({type:"info",message:"取消输入"})}))}}catch(r){o.e(r)}finally{o.f()}}else this.$message({message:"請填入正確email格式",type:"error"});else this.$message({message:"請填入使用者信箱",type:"error"});else this.$message({message:"請填入使用者名稱",type:"error"})},exit:function(){this.$router.push({name:"login"})}}},j=O,I=(o("fb92"),Object(l["a"])(j,z,A,!1,null,null,null)),E=I.exports,B=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-dialog",{attrs:{title:"期末專題說明",visible:t.helloDialogVisible,width:"50%"},on:{"update:visible":function(e){t.helloDialogVisible=e},close:t.helloDialogClose}},[o("div",{staticStyle:{"text-align":"initial",margin:"auto",width:"80%"}},[o("span",{staticStyle:{"font-size":"21px","line-height":"70px"}},[t._v("\n      學號: 1071539 姓名: 黃俊凱 "),o("br"),t._v("\n      本專案結合 Vue.js + Django + PostgreSQL 並放置於Heroku"),o("br"),t._v("\n      主要功能是打造一個虛擬夾娃娃機"),o("br"),t._v("\n      並且使用到製作期中時所使用到的Three.js作為3D模型"),o("br"),t._v("\n      此外為了實現物理碰撞，加上Cannon.js作為簡易的物理引擎"),o("br"),t._v("\n      原始碼可以在"),o("el-link",{staticStyle:{"font-size":"21px"},attrs:{href:"https://github.com/s1071539/webDesignFinal",type:"primary"}},[t._v("GitHub")]),t._v("上查看"),o("br"),t._v("\n      ● 點擊圖片可進入遊戲"),o("br"),t._v("\n      ● 點擊右上+按鈕可新增商品"),o("br")],1)]),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.helloDialogVisible=!1}}},[t._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.helloDialogVisible=!1}}},[t._v("确 定")])],1)]),o("el-carousel",{staticStyle:{width:"30%",border:"7px solid","border-color":"antiquewhite","border-radius":"40px","margin-left":"30px",background:"cornsilk"},attrs:{height:"65px"}},t._l(["1071539 黃俊凱","網站設計期末專題","線上夾娃娃"],(function(e){return o("el-carousel-item",{key:e},[o("h3",{staticClass:"small"},[t._v(t._s(e))])])})),1),o("span",{staticStyle:{position:"absolute",top:"30px",right:"200px"}},[o("i",{staticClass:"el-icon-coin"}),t._v("目前餘額："+t._s(t.user_money)+"$")]),o("el-popover",{ref:"money_pop",attrs:{placement:"bottom",trigger:"click",width:"300",title:"選取儲值金額"}},[o("br"),o("el-form",{attrs:{model:t.recharge,"label-width":"80px"}},[o("div",{staticStyle:{left:"20px",position:"relative"}},[o("el-row",[o("el-col",{attrs:{span:7}},[o("el-radio",{attrs:{label:"50",border:""},model:{value:t.recharge.money,callback:function(e){t.$set(t.recharge,"money",e)},expression:"recharge.money"}},[t._v("50")])],1),o("el-col",{attrs:{span:7}},[o("el-radio",{attrs:{label:"100",border:""},model:{value:t.recharge.money,callback:function(e){t.$set(t.recharge,"money",e)},expression:"recharge.money"}},[t._v("100")])],1),o("el-col",{attrs:{span:7}},[o("el-radio",{attrs:{label:"200",border:""},model:{value:t.recharge.money,callback:function(e){t.$set(t.recharge,"money",e)},expression:"recharge.money"}},[t._v("200")])],1)],1),o("el-row",[o("el-col",{staticStyle:{"margin-top":"10px"},attrs:{span:7}},[o("el-radio",{attrs:{label:"500",border:""},model:{value:t.recharge.money,callback:function(e){t.$set(t.recharge,"money",e)},expression:"recharge.money"}},[t._v("500")])],1),o("el-col",{staticStyle:{"margin-top":"10px"},attrs:{span:7}},[o("el-radio",{attrs:{label:"750",border:""},model:{value:t.recharge.money,callback:function(e){t.$set(t.recharge,"money",e)},expression:"recharge.money"}},[t._v("750")])],1),o("el-col",{staticStyle:{"margin-top":"10px"},attrs:{span:7}},[o("el-radio",{attrs:{label:"1000",border:""},model:{value:t.recharge.money,callback:function(e){t.$set(t.recharge,"money",e)},expression:"recharge.money"}},[t._v("1000")])],1)],1)],1),o("div",{staticStyle:{"text-align":"right","margin-top":"20px"}},[o("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){return t.$refs["money_pop"].doClose()}}},[t._v("取消")]),o("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.set_user_money}},[t._v("确定")])],1)]),o("el-link",{staticStyle:{position:"absolute",top:"30px",right:"100px"},attrs:{slot:"reference",type:"primary"},slot:"reference"},[t._v("儲值"),o("i",{staticClass:"el-icon-circle-plus"})])],1),o("div",{staticClass:"search_div"},[o("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入内容"},model:{value:t.search_text,callback:function(e){t.search_text=e},expression:"search_text"}}),o("el-button",{attrs:{type:"primary",icon:"el-icon-search",circle:""},on:{click:t.search}})],1),o("div",{staticStyle:{position:"absolute",top:"70px",right:"100px"}},[o("el-button",{staticStyle:{"font-size":"30px"},attrs:{icon:"el-icon-circle-plus",circle:"",type:"primary"},on:{click:function(e){t.add_product_lock=!0}}}),o("el-dialog",{attrs:{title:"商品表單-增加",visible:t.add_product_lock},on:{"update:visible":function(e){t.add_product_lock=e}}},[o("el-form",{attrs:{model:t.add_product_form,"label-width":"80px","label-position":"right"}},[o("el-form-item",{attrs:{label:"商品"}},[o("el-input",{staticClass:"add-form-input",attrs:{placeholder:"請輸入商品名稱"},model:{value:t.add_product_form.name,callback:function(e){t.$set(t.add_product_form,"name",e)},expression:"add_product_form.name"}})],1),o("el-form-item",{attrs:{label:"價格"}},[o("el-input",{staticClass:"add-form-input",attrs:{placeholder:"請輸入價格"},model:{value:t.add_product_form.price,callback:function(e){t.$set(t.add_product_form,"price",e)},expression:"add_product_form.price"}})],1),o("el-form-item",{attrs:{label:"數量"}},[o("el-input",{staticClass:"add-form-input",attrs:{placeholder:"請輸入數量"},model:{value:t.add_product_form.amount,callback:function(e){t.$set(t.add_product_form,"amount",e)},expression:"add_product_form.amount"}})],1),o("el-form-item",{attrs:{label:"種類"}},[o("el-select",{staticClass:"add-form-input",attrs:{placeholder:"請選擇種類"},model:{value:t.add_product_form.group,callback:function(e){t.$set(t.add_product_form,"group",e)},expression:"add_product_form.group"}},[o("el-option",{attrs:{label:"VT",value:"VT"}}),o("el-option",{attrs:{label:"APEX",value:"APEX"}}),o("el-option",{attrs:{label:"手機",value:"手機"}}),o("el-option",{attrs:{label:"食物",value:"食物"}}),o("el-option",{attrs:{label:"口罩",value:"口罩"}}),o("el-option",{attrs:{label:"娃娃",value:"娃娃"}})],1)],1),o("el-form-item",{attrs:{label:"照片上傳"}},[o("div",{staticStyle:{position:"relative",left:"-50px"}},[o("input",{attrs:{type:"file",accept:"image/*"},on:{change:t.readFile}})])])],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary",plain:""},on:{click:t.add_product}},[t._v("確定")]),o("el-button",{attrs:{type:"danger",plain:""},on:{click:function(e){t.add_product_lock=!1}}},[t._v("取消")])],1)],1)],1),o("div",{staticStyle:{display:"flex","margin-left":"50px","margin-top":"20px"}},[o("div",{staticStyle:{width:"170px"}},[o("el-menu",{attrs:{"default-active":"全部","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"},on:{select:t.select_menu}},[o("el-menu-item",{attrs:{index:"全部"}},[o("i",{staticClass:"el-icon-position"}),o("span",{attrs:{slot:"title"},slot:"title"},[t._v("全部")])]),o("el-menu-item",{attrs:{index:"VT"}},[o("i",{staticClass:"el-icon-position"}),o("span",{attrs:{slot:"title"},slot:"title"},[t._v("VT")])]),o("el-menu-item",{attrs:{index:"APEX"}},[o("i",{staticClass:"el-icon-position"}),o("span",{attrs:{slot:"title"},slot:"title"},[t._v("APEX")])]),o("el-menu-item",{attrs:{index:"手機"}},[o("i",{staticClass:"el-icon-position"}),o("span",{attrs:{slot:"title"},slot:"title"},[t._v("手機")])]),o("el-menu-item",{attrs:{index:"食物"}},[o("i",{staticClass:"el-icon-position"}),o("span",{attrs:{slot:"title"},slot:"title"},[t._v("食物")])]),o("el-menu-item",{attrs:{index:"口罩"}},[o("i",{staticClass:"el-icon-position"}),o("span",{attrs:{slot:"title"},slot:"title"},[t._v("口罩")])]),o("el-menu-item",{attrs:{index:"娃娃"}},[o("i",{staticClass:"el-icon-position"}),o("span",{attrs:{slot:"title"},slot:"title"},[t._v("娃娃")])])],1)],1),o("div",{staticStyle:{width:"100%"}},[o("div",{staticStyle:{width:"90%",margin:"auto auto"}},[o("el-table",{attrs:{data:t.table_data,"max-height":"700",fit:""}},[o("el-table-column",{attrs:{align:"center",width:"300px"},scopedSlots:t._u([{key:"header",fn:function(e){return[o("div",[t._v("商品名稱")])]}},{key:"default",fn:function(e){return[o("img",{staticStyle:{cursor:"pointer","max-width":"300px"},attrs:{src:e.row.url},on:{click:function(o){return t.cell_click(e.row)}}}),o("p",[t._v(t._s(e.row.name))])]}}])}),o("el-table-column",{attrs:{align:"center",label:"價格",prop:"price",sortable:""}}),o("el-table-column",{attrs:{align:"center",label:"數量",prop:"amount",sortable:""}}),o("el-table-column",{attrs:{align:"center",label:"熱門度",prop:"hot",sortable:""}}),o("el-table-column",{attrs:{align:"center",label:"上架時間",prop:"time",sortable:""}})],1)],1)])])],1)},V=[],T=(o("6762"),o("2fdb"),{name:"Show_All",data:function(){return{user:"",user_money:"",search_text:"",product_data:[],table_data:[],recharge:{number:"",digtal3:"",money:""},activeName:"商品",edit_user_lock:!1,edit_product_lock:!1,add_product_lock:!1,user_form:{id:0,user:"",password:"",email:""},product_form:{id:0,name:"",price:"",amount:"",hot:"",time:"",url:""},add_product_form:{name:"",price:"",amount:"",time:"",owner:"",group:""},add_product_url:"",fileList:[],helloDialogVisible:!0,tips:[!0,!1,!1,!1,!1,!1,!1,!1,!1]}},created:function(){var t=this;sessionStorage.setItem("user",JSON.stringify("admin")),sessionStorage.setItem("token","ImLogin"),void 0!=sessionStorage["user"]&&(this.user=JSON.parse(sessionStorage["user"]),this.axios.get("/get_all_product",{params:{user:this.user}}).then((function(e){t.product_data=e.data,t.axios.post("/get_all_product_url").then((function(e){for(var o in e.data)t.product_data[o]["url"]=e.data[o];t.table_data=t.product_data}))})),this.axios.post("/get_all_user",{}).then((function(e){var o=e.data.filter((function(e){return e["user"]==t.user}));t.user_money=o[0]["setting"]})))},watch:{},methods:{helloDialogClose:function(){this.tips[0]=!0,console.log(this.tips)},manage:function(){this.$router.push({name:"manage"})},logout:function(){sessionStorage.clear(),this.$router.push("/login")},select_menu:function(t){switch(t){case"全部":this.table_data=this.product_data;break;case"VT":this.table_data=this.product_data.filter((function(t){return"VT"==t["group"]}));break;case"APEX":this.table_data=this.product_data.filter((function(t){return"APEX"==t["group"]}));break;case"手機":this.table_data=this.product_data.filter((function(t){return"手機"==t["group"]}));break;case"食物":this.table_data=this.product_data.filter((function(t){return"食物"==t["group"]}));break;case"口罩":this.table_data=this.product_data.filter((function(t){return"口罩"==t["group"]}));break;case"娃娃":this.table_data=this.product_data.filter((function(t){return"娃娃"==t["group"]}));break}},cell_click:function(t){sessionStorage.setItem("play_info",JSON.stringify(t)),this.$router.push({name:"play"})},search:function(){var t=this;this.table_data=this.product_data.filter((function(e){return e["name"].includes(t.search_text)}))},set_user_money:function(){this.axios.post("/set_user_money",{user:this.user,money:this.recharge.money}).then((function(t){location.reload()}))},customUpload:function(t){},file_change:function(t){this.fileList=[],this.fileList.push(t)},add_product:function(){var t=this;if(""!=this.add_product_form.name)if(""!=this.add_product_form.price)if(""!=this.add_product_form.amount)if(""!=this.add_product_form.group){var e=new Date,o=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();this.add_product_form.time=o,this.add_product_form.owner=this.user,this.axios.get("/operator_product",{params:{operator:"add",form:JSON.stringify(this.add_product_form)}}).then((function(e){var o=e.data;t.axios.post("/add_product_url",{new_id:o,url:JSON.stringify(t.add_product_url)}).then((function(e){t.add_product_form.name="",t.add_product_form.price="",t.add_product_form.amount="",t.add_product_form.time="",t.add_product_form.owner="",t.add_product_form.group="",t.add_product_url="",location.reload()}))}))}else this.$message({type:"warning",message:"請輸入種類"});else this.$message({type:"warning",message:"請輸入數量"});else this.$message({type:"warning",message:"請輸入價格"});else this.$message({type:"warning",message:"請輸入商品名稱"})},readFile:function(t){if(t.srcElement.files&&t.srcElement.files[0]){var e=new FileReader,o=this;e.addEventListener("load",(function(t){o.add_product_url=t.target.result})),e.readAsDataURL(t.srcElement.files[0])}}}}),q=T,D=(o("5e1e"),Object(l["a"])(q,B,V,!1,null,"380136b5",null)),N=D.exports,J=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticStyle:{position:"absolute",top:"20px",left:"100px"}},[o("el-button",{staticStyle:{"font-size":"30px"},attrs:{icon:"el-icon-back",type:"primary"},on:{click:t.goback}}),o("div",{staticStyle:{"margin-top":"50px",border:"dotted","font-size":"20px"}},[o("oi",[o("br"),o("br"),o("br"),o("br"),o("li",{staticStyle:{padding:"0px 25px"}},[t._v("上下左右鍵操控爪子")]),o("br"),o("br"),o("br"),o("li",[t._v("滑鼠拖曳、滾輪操控視角")]),o("br"),o("br"),o("br"),o("li",[t._v("按空白鍵抓取物品")]),o("br"),o("br"),o("br"),o("li",[t._v("↓按下開始遊戲按鈕↓")]),o("br"),o("br"),o("br"),o("div",[o("el-button",{directives:[{name:"show",rawName:"v-show",value:t.play_lock,expression:"play_lock"}],staticClass:"btn",staticStyle:{"font-size":"22px"},on:{click:t.start_game}},[t._v("開始遊戲")])],1),o("br"),o("br")])],1)],1),o("span",{staticStyle:{position:"absolute",top:"30px",right:"200px"}},[o("i",{staticClass:"el-icon-coin"}),t._v("目前餘額："+t._s(t.user_money)+"$")]),o("el-popover",{ref:"money_pop",attrs:{placement:"bottom",trigger:"click",width:"300",title:"信用卡儲值"}},[o("br"),o("el-form",{attrs:{model:t.recharge,"label-width":"80px"}},[o("el-form-item",{attrs:{prop:"number",label:"卡號"}},[o("el-input",{staticStyle:{width:"200px",display:"block"},attrs:{placeholder:"請輸入卡號",type:"text"},model:{value:t.recharge.number,callback:function(e){t.$set(t.recharge,"number",e)},expression:"recharge.number"}},[o("i",{staticClass:"el-icon-bank-card",attrs:{slot:"prefix"},slot:"prefix"})])],1),o("el-form-item",{attrs:{prop:"digtal3",label:"後三碼"}},[o("el-input",{staticStyle:{width:"200px",display:"block"},attrs:{placeholder:"請輸入後三碼"},model:{value:t.recharge.digtal3,callback:function(e){t.$set(t.recharge,"digtal3",e)},expression:"recharge.digtal3"}})],1),o("div",{staticStyle:{left:"20px",position:"relative"}},[o("el-row",[o("el-col",{attrs:{span:7}},[o("el-radio",{attrs:{label:"50",border:""},model:{value:t.recharge.money,callback:function(e){t.$set(t.recharge,"money",e)},expression:"recharge.money"}},[t._v("50")])],1),o("el-col",{attrs:{span:7}},[o("el-radio",{attrs:{label:"100",border:""},model:{value:t.recharge.money,callback:function(e){t.$set(t.recharge,"money",e)},expression:"recharge.money"}},[t._v("100")])],1),o("el-col",{attrs:{span:7}},[o("el-radio",{attrs:{label:"200",border:""},model:{value:t.recharge.money,callback:function(e){t.$set(t.recharge,"money",e)},expression:"recharge.money"}},[t._v("200")])],1)],1),o("el-row",[o("el-col",{staticStyle:{"margin-top":"10px"},attrs:{span:7}},[o("el-radio",{attrs:{label:"500",border:""},model:{value:t.recharge.money,callback:function(e){t.$set(t.recharge,"money",e)},expression:"recharge.money"}},[t._v("500")])],1),o("el-col",{staticStyle:{"margin-top":"10px"},attrs:{span:7}},[o("el-radio",{attrs:{label:"750",border:""},model:{value:t.recharge.money,callback:function(e){t.$set(t.recharge,"money",e)},expression:"recharge.money"}},[t._v("750")])],1),o("el-col",{staticStyle:{"margin-top":"10px"},attrs:{span:7}},[o("el-radio",{attrs:{label:"1000",border:""},model:{value:t.recharge.money,callback:function(e){t.$set(t.recharge,"money",e)},expression:"recharge.money"}},[t._v("1000")])],1)],1)],1),o("div",{staticStyle:{"text-align":"right","margin-top":"20px"}},[o("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){return t.$refs["money_pop"].doClose()}}},[t._v("取消")]),o("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.set_user_money}},[t._v("确定")])],1)],1),o("el-link",{staticStyle:{position:"absolute",top:"30px",right:"100px"},attrs:{slot:"reference",type:"primary"},slot:"reference"},[t._v("儲值"),o("i",{staticClass:"el-icon-circle-plus"})])],1),o("div",{staticStyle:{position:"absolute",top:"120px",right:"100px"}},[o("el-button",{staticStyle:{"font-size":"30px"},attrs:{icon:"el-icon-s-cooperation",type:"primary"},on:{click:t.open_prize_form}}),o("el-dialog",{attrs:{title:"已獲得獎品",visible:t.prize_form,width:"700px"},on:{"update:visible":function(e){t.prize_form=e}}},[o("div",{staticStyle:{display:"flex"}},[o("div",{staticStyle:{width:"100%"}},t._l(t.product_url,(function(e,r){return o("div",{staticStyle:{float:"left","margin-top":"20px"}},[o("div",[o("img",{staticStyle:{width:"150px",height:"150px"},attrs:{src:e}})]),o("div",[o("el-checkbox",{attrs:{label:""},model:{value:t.prize_selection[r],callback:function(e){t.$set(t.prize_selection,r,e)},expression:"prize_selection[index]"}},[t._v(t._s(r))])],1)])})),0)]),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"warning",plain:""},on:{click:t.del_prize}},[t._v("丟棄")]),o("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){t.prize_form=!1}}},[t._v("確定")])],1)])],1),o("canvas",{attrs:{id:"mainCanvas"}}),o("canvas",{staticStyle:{margin:"55px"},attrs:{id:"three"}})],1)},L=[],F=(o("2397"),o("d4ec")),R=o("bee2"),U=o("262e"),X=o("99de"),H=o("7e84"),W=o("5a89"),G=o("47e1"),Y=o("bb28");function Q(t){var e=Z();return function(){var o,r=Object(H["a"])(t);if(e){var a=Object(H["a"])(this).constructor;o=Reflect.construct(r,arguments,a)}else o=r.apply(this,arguments);return Object(X["a"])(this,o)}}function Z(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function K(t,e){var o;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=tt(t))||e&&t&&"number"===typeof t.length){o&&(t=o);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,n=!0,s=!1;return{s:function(){o=t[Symbol.iterator]()},n:function(){var t=o.next();return n=t.done,t},e:function(t){s=!0,i=t},f:function(){try{n||null==o.return||o.return()}finally{if(s)throw i}}}}function tt(t,e){if(t){if("string"===typeof t)return et(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?et(t,e):void 0}}function et(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,r=new Array(e);o<e;o++)r[o]=t[o];return r}var ot={name:"play",data:function(){return{user:"",play_info:[],prize_info:[],prize_form:!1,form:{name:"",cellphone:"",adddress:""},prize_selection:[],index_url_map:[],product_url:[],user_money:"",recharge:{number:"",digtal3:"",money:""},play_lock:!0}},created:function(){var t=this;this.user=JSON.parse(sessionStorage["user"]),this.play_info=JSON.parse(sessionStorage["play_info"]),this.axios.post("/get_user_prize",{user:this.user}).then((function(e){""!=e.data?t.prize_info=JSON.parse(e.data):t.prize_info=[],t.axios.post("/get_all_product_url").then((function(e){for(var o in e.data)t.index_url_map[o]=e.data[o]}))})),this.axios.post("/get_all_user",{}).then((function(e){var o=e.data.filter((function(e){return e["user"]==t.user}));t.user_money=o[0]["setting"]}))},mounted:function(){this.initThree()},methods:{open_prize_form:function(){var t=this;this.axios.post("/get_user_prize",{user:this.user}).then((function(e){""!=e.data?t.prize_info=JSON.parse(e.data):t.prize_info=[],t.product_url=[];var o,r=K(t.prize_info);try{for(r.s();!(o=r.n()).done;){var a=o.value;t.product_url.push(t.index_url_map[a-1])}}catch(n){r.e(n)}finally{r.f()}for(var i in t.product_url)t.prize_selection[i]=!1;t.prize_form=!0}))},start_game:function(){this.user_money<=0?this.$message.error("金額不夠，請加值"):(this.user_money-=10,this.axios.post("/set_user_money",{user:this.user,money:-10}),this.play_lock=!1)},set_user_money:function(){var t=this;this.axios.post("/set_user_money",{user:this.user,money:this.recharge.money}).then((function(e){location.reload(),t.$message("加值成功")}))},goback:function(){this.$router.push({name:"Show_All"})},del_prize:function(){var t=this;this.axios.post("/del_user_prize",{user:this.user,prize_info:this.prize_selection}).then((function(e){t.$message("刪除成功"),location.reload()}))},send_prize:function(){""!=this.form.name?""!=this.form.cellphone?""!=this.form.adddress?(this.$message({message:"已送出!",type:"success"}),this.form.name="",this.form.cellphone="",this.form.adddress="",location.reload()):this.$message({message:"請填寫收貨地址!",type:"error"}):this.$message({message:"請填寫聯絡方式!",type:"error"}):this.$message({message:"請填寫名字!",type:"error"})},initThree:function(){var t,e,r,a,i,n,s,l,c,u,p,d,m,f,h,_,y,g=document.querySelector("#three"),b=this,v=!1,w=!1,x=!1,k=!1,S=!1,$=0,z=!1,A=!1,C=!1,P=!1,M=!0,O=!0,j=void 0;a=new W["m"](45,window.innerWidth/window.innerHeight,10,5e3),a.position.y=200,a.position.z=850,a.position.x,a.position.y,a.position.z,i=new W["o"],i.background=new W["c"]("#eee"),u=new W["l"],i.add(u),t=new W["f"](16777215),t.position.set(100,200,400),i.add(t),e=new W["f"](16777215),e.position.set(-400,200,-400),i.add(e),r=new W["f"](16777215),r.position.set(100,-400,-400),i.add(r);var I=new W["n"](4300,2500),E=(new W["q"]).load(o("86d5")),B=new W["i"]({map:E,side:W["g"]}),V=new W["h"](I,B);V.position.z=-2150,V.rotation.x=180*Math.PI/180,V.rotation.z=180*Math.PI/180,i.add(V);var T=new W["h"](I,B);T.position.z=2150,T.rotation.x=180*Math.PI/180,T.rotation.z=180*Math.PI/180,i.add(T);var q=new W["h"](I,B);q.position.x=-2150,q.rotation.x=180*Math.PI/180,q.rotation.y=270*Math.PI/180,q.rotation.z=180*Math.PI/180,i.add(q);var D=new W["h"](I,B);D.position.x=2150,D.rotation.x=180*Math.PI/180,D.rotation.y=270*Math.PI/180,D.rotation.z=180*Math.PI/180,i.add(D);var N=new W["n"](4300,4300),J=(new W["q"]).load(o("8e1c")),L=new W["i"]({map:J,side:W["g"]}),X=new W["h"](N,L);X.position.y=-1250,X.rotation.x=270*Math.PI/180,i.add(X);var H=new W["n"](4300,4300),Z=(new W["q"]).load(o("8e1c")),K=new W["i"]({map:Z,side:W["g"]}),tt=new W["h"](H,K);tt.position.y=1250,tt.rotation.x=270*Math.PI/180,i.add(tt);var et=new W["n"](300,300),ot=new W["j"]({transparent:!0,opacity:.4,side:W["g"]}),rt=new W["h"](et,ot);rt.rotation.x=-90*Math.PI/180,i.add(rt);et=new W["n"](300,300),ot=new W["j"]({transparent:!0,opacity:.4,side:W["g"]}),rt=new W["h"](et,ot);rt.rotation.x=-90*Math.PI/180,rt.position.y+=300,i.add(rt);et=new W["n"](300,300),ot=new W["j"]({transparent:!0,opacity:.4,side:W["g"]}),rt=new W["h"](et,ot);rt.rotation.y=-90*Math.PI/180,rt.position.x-=150,rt.position.y+=150,i.add(rt);et=new W["n"](300,300),ot=new W["j"]({transparent:!0,opacity:.4,side:W["g"]}),rt=new W["h"](et,ot);rt.rotation.y=90*Math.PI/180,rt.position.x+=150,rt.position.y+=150,i.add(rt);et=new W["n"](300,300),ot=new W["j"]({transparent:!0,opacity:.4,side:W["g"]}),rt=new W["h"](et,ot);rt.position.y+=150,rt.position.z+=150,i.add(rt);et=new W["n"](300,300),ot=new W["j"]({transparent:!0,opacity:.4,side:W["g"]}),rt=new W["h"](et,ot);rt.position.y+=150,rt.position.z-=150,i.add(rt);var at=(new W["q"]).load(o("5ed0")),it=(et=new W["a"](300,150,400),ot=new W["i"]({map:at}),new W["h"](et,ot));it.position.y-=80,it.position.z+=50,i.add(it);var nt=new W["n"](35,50,30,30),st=(new W["q"]).load(o("eddc")),lt=new W["i"]({map:st,side:W["g"]}),ct=new W["h"](nt,lt);ct.position.x+=94,ct.position.y-=80,ct.position.z+=251,i.add(ct);var ut=new W["b"](12,32),pt=(new W["q"]).load(o("1d54")),dt=new W["i"]({map:pt,side:W["g"]});c=new W["h"](ut,dt),c.rotation.y=90*Math.PI/180,c.position.y-=30,i.add(c),d=new W["l"],i.add(d);var mt=new W["p"](10,32,32),ft=(new W["q"]).load(o("e86d")),ht=new W["j"]({map:ft});s=new W["h"](mt,ht),s.position.y+=20,d.add(s);var _t=new W["e"](2,2,30,32),yt=(new W["q"]).load(o("e86d")),gt=new W["i"]({map:yt});l=new W["h"](_t,gt),l.position.y+=10,d.add(l),d.position.z+=210,u=new W["l"],i.add(u),p=new W["l"],i.add(p);var bt=new W["e"](.1,.1,20,32),vt=new W["i"]({color:16776960});m=new W["h"](bt,vt),p.add(m);var wt=function(t){Object(U["a"])(o,t);var e=Q(o);function o(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Object(F["a"])(this,o),t=e.call(this),t.scale=r,t}return Object(R["a"])(o,[{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new W["s"],o=3*t-1.5,r=Math.sin(2*Math.PI*t*.6),a=0;return e.set(o,r,a).multiplyScalar(this.scale)}}]),o}(W["d"]),xt=new wt(20),kt=new W["r"](xt,100,2,20,!1),St=(new W["q"]).load(o("e86d")),$t=new W["i"]({map:St});h=new W["h"](kt,$t),h.position.x-=40,h.position.y+=150,h.rotation.z=90*Math.PI/180,p.add(h),_=new W["h"](kt,$t),_.position.x+=40,_.position.y+=150,_.rotation.z=90*Math.PI/180,_.rotation.y=180*Math.PI/180,p.add(_);var zt=new W["p"](50,32,32),At=(new W["q"]).load(o("e86d")),Ct=new W["j"]({map:At});f=new W["h"](zt,Ct),f.position.y+=200,f.scale.y-=.1,p.add(f),p.position.y+=50;bt=new W["e"](5,5,20,32);var Pt=(new W["q"]).load(o("e86d"));vt=new W["i"]({map:Pt});m=new W["h"](bt,vt),m.position.y+=280,i.add(m),y=new G["World"],y.gravity.set(0,-200,0),y.broadphase=new G["NaiveBroadphase"];var Mt=new G["Plane"];Mt.updateBoundingSphereRadius();var Ot=new G["Material"],jt=new G["Body"]({mass:0,shape:Mt,position:new W["s"](150,0,0),material:Ot});jt.quaternion.setFromAxisAngle(new G["Vec3"](0,1,0),-Math.PI/2),y.add(jt);var It=new G["Material"],Et=new G["Body"]({mass:0,shape:Mt,position:new G["Vec3"](-150,0,0),material:It});Et.quaternion.setFromAxisAngle(new G["Vec3"](0,1,0),Math.PI/2),y.add(Et);var Bt=new G["Material"],Vt=new G["Body"]({mass:0,shape:Mt,position:new W["s"](0,0,150),material:Bt});Vt.quaternion.setFromAxisAngle(new G["Vec3"](1,0,0),Math.PI),y.add(Vt);var Tt=new G["Material"],qt=new G["Body"]({mass:0,shape:Mt,position:new W["s"](0,0,-150),material:Tt});y.add(qt);var Dt=new G["Material"],Nt=new G["Body"]({mass:0,shape:Mt,position:new W["s"](0,-100,800),material:Dt});Nt.quaternion.setFromAxisAngle(new G["Vec3"](1,0,0),-Math.PI/2),y.add(Nt);var Jt=new W["a"](200,100,300),Lt=new W["k"]({color:3355443}),Ft=new W["h"](Jt,Lt);Ft.position.x=50,Ft.position.y=-45;var Rt=new G["Material"],Ut=new G["Body"]({mass:0,shape:new G["Box"](new G["Vec3"](100,50,150)),position:new W["s"](50,-45,0),material:Rt});y.add(Ut);var Xt=new W["a"](100,100,210),Ht=new W["k"]({color:3355443}),Wt=new W["h"](Xt,Ht);Wt.position.x=-100,Wt.position.y=-45,Wt.position.z=-40;var Gt=new G["Material"],Yt=new G["Body"]({mass:0,shape:new G["Box"](new G["Vec3"](50,50,105)),position:new W["s"](-100,-45,-40),material:Gt});y.add(Yt);var Qt=new W["a"](100,10,100),Zt=new W["k"]({color:3355443}),Kt=new W["h"](Qt,Zt);Kt.position.x=-100,Kt.position.y=-4,Kt.position.z=98,i.add(Kt);var te=new W["n"](100,80),ee=new W["j"]({color:16716287,transparent:!0,opacity:.4,side:W["g"]}),oe=new W["h"](te,ee);oe.rotation.y=90*Math.PI/180,oe.position.x=-50,oe.position.y=50,oe.position.z=100,i.add(oe);var re=new G["Material"],ae=new G["Body"]({mass:0,shape:new G["Box"](new G["Vec3"](1,40,50)),position:new W["s"](-50,50,100),material:re});y.add(ae);var ie=new W["h"](te,ee);ie.position.x=-100,ie.position.y=50,ie.position.z=50,i.add(ie);var ne=new G["Material"],se=new G["Body"]({mass:0,shape:new G["Box"](new G["Vec3"](50,40,1)),position:new W["s"](-100,50,50),material:ne});y.add(se);for(var le=(new W["q"]).load(this.play_info["url"]),ce=[],ue=[],pe=[],de=JSON.parse(sessionStorage["play_info"])["amount"],me=0;me<de;me++)ce[me]=new G["Material"],ue[me]=new G["Body"]({mass:5,shape:new G["Box"](new G["Vec3"](22,22,22)),position:new W["s"](50+2*me,200*me+0,2*me-50),material:ce[me]}),y.add(ue[me]),pe[me]=new W["h"](new W["a"](44,44,44),new W["k"]({map:le})),i.add(pe[me]);var fe=new G["Material"],he=new G["Body"]({mass:0,shape:new G["Box"](new G["Vec3"](19,2.5,2.5)),position:new W["s"](0,0,0),material:fe});y.add(he);var _e=new G["Material"],ye=new G["Body"]({mass:0,shape:new G["Box"](new G["Vec3"](19,2.5,2.5)),position:new W["s"](0,0,0),material:_e});y.add(ye);var ge=1/60;n=new W["t"]({canvas:g,antialias:!0}),n.setClearColor(10526880),n.setPixelRatio(window.devicePixelRatio),n.setSize(window.innerWidth,window.innerHeight);var be=new Y["a"](a,n.domElement);be.rotateSpeed=1,be.zoomSpeed=1.2,be.panSpeed=.2,be.noZoom=!1,be.noPan=!1,be.staticMoving=!1,be.dynamicDampingFactor=.3;var ve=100;be.minDistance=0,be.maxDistance=1e3*ve;var we=0,xe=window.innerWidth,ke=window.innerHeight-2*we;window.innerWidth,window.innerHeight;function Se(){if(null!=document.getElementById("three")){document.getElementById("three").style.width="1200px",document.getElementById("three").style.height="750px",y.step(ge),be.update(),pe.forEach((function(t,e){pe[e].position.copy(ue[e].position)})),f.rotation.y+=.01,m.position.x=p.position.x,m.position.z=p.position.z;var t=new G["Vec3"](1,0,0),e=h.rotation.z+50*Math.PI/180;he.position.x=p.position.x-50,he.position.y=p.position.y+130,he.position.z=p.position.z,he.quaternion.setFromAxisAngle(t,e),ye.position.x=p.position.x+50,ye.position.y=p.position.y+130,ye.position.z=p.position.z,ye.quaternion.setFromAxisAngle(t,e),M=b.play_lock,M!=O&&0==M&&(c.position.set(94,-60,280),c.rotation.y=0),O=M,!b.play_lock&&c.position.y>-85&&(-60==c.position.y&&c.rotation.y<=8?c.rotation.y+=.1:(c.position.z-=2,c.position.y-=1)),v&&!S&&(p.position.z-=2,d.rotation.x>-1&&(d.rotation.x-=.1)),x&&!S&&(p.position.z+=2,d.rotation.x<1&&(d.rotation.x+=.1)),k&&!S&&(p.position.x-=2,d.rotation.z<1&&(d.rotation.z+=.1)),w&&!S&&(p.position.x+=2,d.rotation.z>-1&&(d.rotation.z-=.1)),v||x||k||w||(d.rotation.x<0&&(d.rotation.x+=.1),d.rotation.x>0&&(d.rotation.x-=.1),d.rotation.z<0&&(d.rotation.z+=.1),d.rotation.z>0&&(d.rotation.z-=.1)),S&&(z&&(m.position.y-=.8,m.scale.y+=.1,p.position.y-=2,p.position.y<=-100&&!C&&!A&&(console.log(p.position.y,C,A),z=!1,C=!0)),C&&(h.rotation.z+=.01,_.rotation.z+=.01,_.rotation.z>2&&(ue.forEach((function(t){t.position.x<p.position.x+15&&t.position.x>p.position.x-15&&t.position.z<p.position.z+15&&t.position.z>p.position.z-15&&(j=t)})),C=!1,A=!0)),A&&(m.position.y+=.8,m.scale.y-=.1,p.position.y+=2),p.position.y==$&&(A=!1,P=!0),P&&(p.position.x>-96?p.position.x-=1:p.position.z<94?p.position.z+=1:(h.rotation.z=1.5,_.rotation.z=1.5,j=void 0,setTimeout((function(){pe.forEach((function(t,e){t.position.y<-10&&(pe.splice(e,1),i.remove(t))})),ue.forEach((function(t,e){t.position.y<-10&&(ue.splice(e,1),y.remove(t),b.axios.post("/add_user_prize",{user:b.user,prize_info:JSON.parse(sessionStorage["play_info"])["id"]}).then((function(t){b.$message({message:"恭喜獲得獎品",type:"success"})})))})),S=!1,b.play_lock=!0,P=!1}),1500))),void 0!=j&&(j.position.x=p.position.x,j.position.z=p.position.z,j.position.y=p.position.y+150)),n.render(i,a),requestAnimationFrame(Se)}}function $e(t){if(!b.play_lock){var e=t["key"];"ArrowUp"==e&&(v=!0),"ArrowDown"==e&&(x=!0),"ArrowLeft"==e&&(k=!0),"ArrowRight"==e&&(w=!0)," "==e&&(S||($=p.position.y,S=!0,z=!0))}}function ze(t){if(!b.play_lock){var e=t["key"];"ArrowUp"==e&&(v=!1),"ArrowDown"==e&&(x=!1),"ArrowLeft"==e&&(k=!1),"ArrowRight"==e&&(w=!1)}}be.screen.width=xe,be.screen.height=ke,Se(),window.addEventListener("keydown",$e),window.addEventListener("keyup",ze)}}},rt=ot,at=(o("8a4e"),Object(l["a"])(rt,J,L,!1,null,null,null)),it=at.exports,nt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticStyle:{"margin-top":"-50px"}},[o("div",{staticStyle:{position:"absolute",top:"20px",left:"100px"}},[o("el-button",{staticStyle:{"font-size":"30px"},attrs:{icon:"el-icon-back",type:"primary"},on:{click:t.goback}})],1),o("div",{staticStyle:{position:"absolute",top:"20px",right:"100px"}},[o("el-button",{staticStyle:{"font-size":"30px"},attrs:{icon:"el-icon-circle-plus",circle:"",type:"primary"},on:{click:function(e){t.add_product_lock=!0}}}),o("el-dialog",{attrs:{title:"商品表單-增加",visible:t.add_product_lock},on:{"update:visible":function(e){t.add_product_lock=e}}},[o("el-form",{attrs:{model:t.add_product_form,"label-width":"80px","label-position":"right"}},[o("el-form-item",{attrs:{label:"商品"}},[o("el-input",{staticClass:"add-form-input",attrs:{placeholder:"請輸入商品名稱"},model:{value:t.add_product_form.name,callback:function(e){t.$set(t.add_product_form,"name",e)},expression:"add_product_form.name"}})],1),o("el-form-item",{attrs:{label:"價格"}},[o("el-input",{staticClass:"add-form-input",attrs:{placeholder:"請輸入價格"},model:{value:t.add_product_form.price,callback:function(e){t.$set(t.add_product_form,"price",e)},expression:"add_product_form.price"}})],1),o("el-form-item",{attrs:{label:"數量"}},[o("el-input",{staticClass:"add-form-input",attrs:{placeholder:"請輸入數量"},model:{value:t.add_product_form.amount,callback:function(e){t.$set(t.add_product_form,"amount",e)},expression:"add_product_form.amount"}})],1),o("el-form-item",{attrs:{label:"種類"}},[o("el-select",{staticClass:"add-form-input",attrs:{placeholder:"請選擇種類"},model:{value:t.add_product_form.group,callback:function(e){t.$set(t.add_product_form,"group",e)},expression:"add_product_form.group"}},[o("el-option",{attrs:{label:"VT",value:"VT"}}),o("el-option",{attrs:{label:"APEX",value:"APEX"}}),o("el-option",{attrs:{label:"手機",value:"手機"}}),o("el-option",{attrs:{label:"食物",value:"食物"}}),o("el-option",{attrs:{label:"口罩",value:"口罩"}}),o("el-option",{attrs:{label:"娃娃",value:"娃娃"}}),o("el-option",{attrs:{label:"成人",value:"成人"}})],1)],1),o("el-form-item",{attrs:{label:"照片上傳"}},[o("div",{staticStyle:{position:"relative",left:"-50px"}},[o("input",{attrs:{type:"file",accept:"image/*"},on:{change:t.readFile}})])])],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary",plain:""},on:{click:t.add_product}},[t._v("確定")]),o("el-button",{attrs:{type:"danger",plain:""},on:{click:function(e){t.add_product_lock=!1}}},[t._v("取消")])],1)],1)],1),o("div",[o("el-tabs",{attrs:{type:"border-card"}},[o("el-tab-pane",{attrs:{label:"帳號設定"}},[o("el-table",{attrs:{data:t.user_data}},[o("el-table-column",{attrs:{prop:"user",label:"使用者"}}),o("el-table-column",{attrs:{prop:"password",label:"密碼"}}),o("el-table-column",{attrs:{prop:"email",label:"信箱"}}),o("el-table-column",{attrs:{prop:"description",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;e.$index;return[o("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"small",circle:""},on:{click:function(e){return t.edit_user_dialog(r.user)}}}),"admin"!=r.user?o("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"small",circle:""},on:{click:function(e){return t.delete_user(r)}}}):t._e(),o("el-dialog",{attrs:{title:"使用者表單-修改",visible:t.edit_user_lock},on:{"update:visible":function(e){t.edit_user_lock=e}}},[o("el-form",{attrs:{model:t.user_form,"label-width":"80px"}},[o("el-form-item",{attrs:{prop:"user",label:"使用者"}},[o("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"請輸入使用者名稱"},model:{value:t.user_form.user,callback:function(e){t.$set(t.user_form,"user",e)},expression:"user_form.user"}})],1),o("el-form-item",{attrs:{prop:"password",label:"密碼"}},[o("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"請輸入密碼"},model:{value:t.user_form.password,callback:function(e){t.$set(t.user_form,"password",e)},expression:"user_form.password"}})],1),o("el-form-item",{attrs:{prop:"email",label:"信箱"}},[o("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"請輸入信箱"},model:{value:t.user_form.email,callback:function(e){t.$set(t.user_form,"email",e)},expression:"user_form.email"}})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary",plain:""},on:{click:t.edit_user}},[t._v("確定")]),o("el-button",{attrs:{type:"danger",plain:""},on:{click:function(e){t.edit_user_lock=!1}}},[t._v("取消")])],1)],1)]}}])})],1)],1),o("el-tab-pane",{attrs:{label:"商品管理"}},[o("el-table",{attrs:{data:t.product_data,"max-height":"700",fit:""}},[o("el-table-column",{attrs:{align:"center",width:"300px"},scopedSlots:t._u([{key:"header",fn:function(e){return[o("div",[t._v("商品")])]}},{key:"default",fn:function(e){return[o("img",{staticStyle:{"max-width":"300px"},attrs:{src:e.row.url}}),o("p",[t._v(t._s(e.row.name))])]}}])}),o("el-table-column",{attrs:{align:"center",label:"價格",prop:"price",sortable:""}}),o("el-table-column",{attrs:{align:"center",label:"數量",prop:"amount",sortable:""}}),o("el-table-column",{attrs:{align:"center",label:"熱門度",prop:"hot",sortable:""}}),o("el-table-column",{attrs:{align:"center",label:"上架時間",prop:"time",sortable:""}}),o("el-table-column",{attrs:{prop:"description",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;e.$index;return[o("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"small",circle:""},on:{click:function(e){return t.edit_product_dialog(r)}}}),o("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"small",circle:""},on:{click:function(e){return t.delete_product(r)}}}),o("el-dialog",{attrs:{title:"商品表單-修改",visible:t.edit_product_lock},on:{"update:visible":function(e){t.edit_product_lock=e}}},[o("el-form",{attrs:{model:t.product_form,"label-width":"80px"}},[o("el-form-item",{attrs:{prop:"name",label:"商品"}},[o("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"請輸入商品名稱"},model:{value:t.product_form.name,callback:function(e){t.$set(t.product_form,"name",e)},expression:"product_form.name"}})],1),o("el-form-item",{attrs:{prop:"price",label:"價格"}},[o("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"請輸入價格"},model:{value:t.product_form.price,callback:function(e){t.$set(t.product_form,"price",e)},expression:"product_form.price"}})],1),o("el-form-item",{attrs:{prop:"amount",label:"數量"}},[o("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"請輸入數量"},model:{value:t.product_form.amount,callback:function(e){t.$set(t.product_form,"amount",e)},expression:"product_form.amount"}})],1),o("el-form-item",{attrs:{prop:"hot",label:"熱門度"}},[o("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"請輸入熱門度"},model:{value:t.product_form.hot,callback:function(e){t.$set(t.product_form,"hot",e)},expression:"product_form.hot"}})],1),o("el-form-item",{attrs:{prop:"time",label:"上架時間"}},[o("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"請輸入上架時間"},model:{value:t.product_form.time,callback:function(e){t.$set(t.product_form,"time",e)},expression:"product_form.time"}})],1)],1),o("img",{staticStyle:{position:"absolute",right:"50px",top:"50px"},attrs:{src:t.product_form.url}}),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary",plain:""},on:{click:t.edit_product}},[t._v("確定")]),o("el-button",{attrs:{type:"danger",plain:""},on:{click:function(e){t.edit_product_lock=!1}}},[t._v("取消")])],1)],1)]}}])})],1)],1)],1)],1)])},st=[];function lt(t,e){var o;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=ct(t))||e&&t&&"number"===typeof t.length){o&&(t=o);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,n=!0,s=!1;return{s:function(){o=t[Symbol.iterator]()},n:function(){var t=o.next();return n=t.done,t},e:function(t){s=!0,i=t},f:function(){try{n||null==o.return||o.return()}finally{if(s)throw i}}}}function ct(t,e){if(t){if("string"===typeof t)return ut(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?ut(t,e):void 0}}function ut(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,r=new Array(e);o<e;o++)r[o]=t[o];return r}var pt={name:"manage",data:function(){return{user:"",user_data:[],product_data:[],edit_user_lock:!1,edit_product_lock:!1,add_product_lock:!1,user_form:{id:0,user:"",password:"",email:""},product_form:{id:0,name:"",price:"",amount:"",hot:"",time:"",url:""},add_product_form:{name:"",price:"",amount:"",time:"",owner:"",group:""},add_product_url:"",fileList:[]}},created:function(){var t=this;this.user=JSON.parse(sessionStorage.getItem("user")),this.axios.post("/get_all_user",{}).then((function(e){"admin"!=t.user?t.user_data=e.data.filter((function(e){return e["user"]==t.user})):t.user_data=e.data})),void 0!=sessionStorage["user"]&&(this.user=JSON.parse(sessionStorage["user"]),this.axios.get("/get_all_product",{params:{user:this.user}}).then((function(e){t.product_data=e.data,t.axios.post("/get_all_product_url").then((function(e){for(var o in e.data)t.product_data[o]["url"]=e.data[o];t.product_data=t.product_data.filter((function(e){return e["owner"]==t.user})),t.table_data=t.product_data}))})))},mounted:function(){},methods:{goback:function(){this.$router.push({name:"Show_All"})},edit_user_dialog:function(t){var e,o=lt(this.user_data);try{for(o.s();!(e=o.n()).done;){var r=e.value;t==r["user"]&&(this.user_form.id=r["user_id"],this.user_form.user=r["user"],this.user_form.password=r["password"],this.user_form.email=r["email"])}}catch(a){o.e(a)}finally{o.f()}this.edit_user_lock=!0},edit_product_dialog:function(t){this.product_form.id=t["id"],this.product_form.name=t["name"],this.product_form.price=t["price"],this.product_form.amount=t["amount"],this.product_form.hot=t["hot"],this.product_form.time=t["time"],this.product_form.url=t["url"],this.edit_product_lock=!0},edit_user:function(){var t=this;this.axios.get("/operator_user",{params:{operator:"modify",form:JSON.stringify(this.user_form)}}).then((function(e){t.user_form.id=0,t.user_form.user="",t.user_form.password="",t.user_form.email="",t.$message({message:"帳號修改成功",type:"success"}),location.reload()}))},edit_product:function(){var t=this;this.axios.get("/operator_product",{params:{operator:"modify",form:JSON.stringify(this.product_form)}}).then((function(e){t.product_form.id=0,t.product_form.name="",t.product_form.price="",t.product_form.amount="",t.product_form.hot="",t.product_form.time="",t.product_form.url="",t.$message({message:"商品修改成功",type:"success"}),location.reload()}))},delete_user:function(t){var e=this;this.$confirm("是否刪除 "+t["user"]+" ?","刪除",{confirmButtonText:"確定",cancelButtonText:"取消",type:"warning"}).then((function(){e.axios.get("/operator_user",{params:{user_id:t["user_id"],operator:"delete"}}).then((function(t){location.reload()})),e.$message({type:"success",message:"删除成功!"})})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},delete_product:function(t){var e=this;this.$confirm("是否刪除 "+t["name"]+" ?","刪除",{confirmButtonText:"確定",cancelButtonText:"取消",type:"warning"}).then((function(){e.axios.get("/operator_product",{params:{id:t["id"],operator:"delete"}}).then((function(t){location.reload()})),e.$message({type:"success",message:"删除成功!"})})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},customUpload:function(t){},file_change:function(t){this.fileList=[],this.fileList.push(t)},add_product:function(){var t=this;if(""!=this.add_product_form.name)if(""!=this.add_product_form.price)if(""!=this.add_product_form.amount)if(""!=this.add_product_form.group){var e=new Date,o=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();this.add_product_form.time=o,this.add_product_form.owner=this.user,this.axios.get("/operator_product",{params:{operator:"add",form:JSON.stringify(this.add_product_form)}}).then((function(e){var o=e.data;t.axios.post("/add_product_url",{new_id:o,url:JSON.stringify(t.add_product_url)}).then((function(e){t.add_product_form.name="",t.add_product_form.price="",t.add_product_form.amount="",t.add_product_form.time="",t.add_product_form.owner="",t.add_product_form.group="",t.add_product_url="",location.reload()}))}))}else this.$message({type:"warning",message:"請輸入種類"});else this.$message({type:"warning",message:"請輸入數量"});else this.$message({type:"warning",message:"請輸入價格"});else this.$message({type:"warning",message:"請輸入商品名稱"})},readFile:function(t){if(t.srcElement.files&&t.srcElement.files[0]){var e=new FileReader,o=this;e.addEventListener("load",(function(t){o.add_product_url=t.target.result})),e.readAsDataURL(t.srcElement.files[0])}}}},dt=pt,mt=(o("a390"),Object(l["a"])(dt,nt,st,!1,null,null,null)),ft=mt.exports;r["default"].use(p["a"]);var ht=new p["a"]({routes:[{path:"*",redirect:"/"},{path:"/",name:"Show_All",component:N},{path:"/Show_All",name:"Show_All",component:N},{path:"/play",name:"play",component:it},{path:"/signup",name:"signup",component:$},{path:"/resetPassword",name:"resetPassword",component:E},{path:"/manage",name:"manage",component:ft}]}),_t=o("5c96"),yt=o.n(_t),gt=(o("0fae"),o("bc3a")),bt=o.n(gt),vt=o("a7fe"),wt=o.n(vt),xt=o("4328"),kt=o.n(xt);r["default"].prototype.$qs=kt.a,r["default"].config.productionTip=!1,r["default"].use(wt.a,bt.a),bt.a.defaults.baseURL="/api",r["default"].use(yt.a),r["default"].config.devtools=!0,ht.beforeEach((function(t,e,o){o()}));var St=new r["default"]({router:ht,render:function(t){return t(u)}});St.$mount("#app")},"5e1e":function(t,e,o){"use strict";var r=o("72da"),a=o.n(r);a.a},"5ed0":function(t,e,o){t.exports=o.p+"static/img/crate.da499b85.gif"},"64a9":function(t,e,o){},"72da":function(t,e,o){},7662:function(t,e,o){"use strict";var r=o("eda6"),a=o.n(r);a.a},"7c3f":function(t,e,o){},"86d5":function(t,e,o){t.exports=o.p+"static/img/bg.4b05b5bc.jpg"},"8a4e":function(t,e,o){"use strict";var r=o("9712"),a=o.n(r);a.a},"8e1c":function(t,e,o){t.exports=o.p+"static/img/ground.9d7ee444.jpg"},"94d8":function(t,e,o){},9712:function(t,e,o){},"9ce0":function(t,e,o){"use strict";var r=o("b377"),a=o.n(r);a.a},a390:function(t,e,o){"use strict";var r=o("7c3f"),a=o.n(r);a.a},b377:function(t,e,o){},cf05:function(t,e,o){t.exports=o.p+"static/img/logo.96f19165.png"},e86d:function(t,e,o){t.exports=o.p+"static/img/UV_Grid_Sm.a4a234e1.jpg"},eda6:function(t,e,o){},eddc:function(t,e,o){t.exports=o.p+"static/img/coin_hole2.88e6c57d.png"},fb92:function(t,e,o){"use strict";var r=o("94d8"),a=o.n(r);a.a}});
//# sourceMappingURL=app.98523338.js.map